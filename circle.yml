## Customize the test machine
machine:

  timezone:
    America/Los_Angeles # Set the timezone

## Customize dependencies
dependencies:
  pre:
    - npm install coffee-script # install from a different package manager
    - gem uninstall bundler # use a custom version of bundler
    - gem install bundler --pre

  override:
    - bundle install: # note ':' here
        timeout: 180 # fail if command has no output for 3 minutes

## Customize test commands
test:
  override:
    - mvn test -PSGWEBprod
    - mkdir -p $CIRCLE_TEST_REPORTS/cucumber
    - bundle exec cucumber --format json --out 
    - $CIRCLE_TEST_REPORTS/cucumber/tests.cucumber
  post:
    - if [ -n "${NIGHTLY_BUILD}" ]; then
           - mvn test -PSGWEBprod
     fi


